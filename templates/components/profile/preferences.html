{% macro preferences(user_preferences) %}
<div class="bg-white p-6 rounded-lg shadow">
    <h3 class="text-lg font-medium text-gray-900 mb-4">Preferences</h3>
    <form class="space-y-6" action="{{ url_for('update_preferences') }}" method="POST">
        <div class="space-y-4">
            <div>
                <label for="language" class="block text-sm font-medium text-gray-700">Language</label>
                <select id="language" 
                        name="language" 
                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                    <option value="en" {% if user_preferences.language == 'en' %}selected{% endif %}>English</option>
                    <option value="es" {% if user_preferences.language == 'es' %}selected{% endif %}>Spanish</option>
                    <option value="fr" {% if user_preferences.language == 'fr' %}selected{% endif %}>French</option>
                </select>
            </div>
            <div>
                <label for="timezone" class="block text-sm font-medium text-gray-700">Timezone</label>
                <select id="timezone" 
                        name="timezone" 
                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                    <option value="UTC" {% if user_preferences.timezone == 'UTC' %}selected{% endif %}>UTC</option>
                    <option value="EST" {% if user_preferences.timezone == 'EST' %}selected{% endif %}>Eastern Time</option>
                    <option value="PST" {% if user_preferences.timezone == 'PST' %}selected{% endif %}>Pacific Time</option>
                </select>
            </div>
            <div class="flex items-start">
                <div class="flex items-center h-5">
                    <input id="notifications" 
                           name="notifications" 
                           type="checkbox"
                           {% if user_preferences.notifications %}checked{% endif %}
                           class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                </div>
                <div class="ml-3">
                    <label for="notifications" class="text-sm font-medium text-gray-700">Email Notifications</label>
                    <p class="text-sm text-gray-500">Receive updates about your tickets and events</p>
                </div>
            </div>
        </div>
        <div class="flex justify-end">
            <button type="submit" 
                    class="inline-flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                Save Preferences
            </button>
        </div>
    </form>
</div>
{% endmacro %}